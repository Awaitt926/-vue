import{d as y,r as u,k as w,c as v,f as o,t as i,B as p,G as d,D as x,s as V,$ as m,l as g,o as f,_ as B}from"./index-C0KZXnhx.js";const C={class:"container"},D=y({__name:"Login",setup(T){const c=V(),e=u("登录"),a=u(""),n=u(""),r=u(""),h=w(()=>e.value==="登录"?"还没有账号？":"已有账号？"),_=t=>{t==="登录"?e.value="注册":e.value="登录"},k=()=>{e.value==="登录"?(console.log("登录"),m.post("http://localhost:3000/login",{username:a.value,password:n.value}).then(t=>{g.success(t.data.message),setTimeout(()=>{c.push("/")},1e3)})):(console.log("注册"),m.post("http://localhost:3000/register",{username:a.value,password:n.value,email:r.value}).then(t=>{console.log("res: ",t),g.success(t.data.message),setTimeout(()=>{c.push("/")},1e3)}))};return(t,s)=>(f(),v("div",C,[o("h2",null,i(e.value),1),o("div",null,[p(o("input",{type:"text",placeholder:"用户名","onUpdate:modelValue":s[0]||(s[0]=l=>a.value=l)},null,512),[[d,a.value]]),p(o("input",{type:"password",placeholder:"密码","onUpdate:modelValue":s[1]||(s[1]=l=>n.value=l)},null,512),[[d,n.value]]),e.value==="注册"?p((f(),v("input",{key:0,type:"email",placeholder:"邮箱","onUpdate:modelValue":s[2]||(s[2]=l=>r.value=l)},null,512)),[[d,r.value]]):x("",!0),o("button",{type:"submit",onClick:k},i(e.value),1)]),o("div",{class:"form-divider",onClick:s[3]||(s[3]=l=>_(e.value))},i(h.value),1)]))}}),U=B(D,[["__scopeId","data-v-4c6186d8"]]);export{U as default};
