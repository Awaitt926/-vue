import{d as b,c as l,f as a,t as e,h as g,i as k,o,p as S,j as B,_ as E,u as N,k as $,a as x,w as y,F as m,b as h,l as V,g as F,e as T,n as C,E as j,r as M,m as q,$ as z,q as G}from"./index-C0KZXnhx.js";/* empty css                         */const L=s=>(S("data-v-f18f1cc4"),s=s(),B(),s),R={class:"xm-product-box"},U={class:"nav-bar"},A={class:"container"},H={class:"con"},J={class:"left"},K=L(()=>a("span",null,"|",-1)),O=k('<div class="right" data-v-f18f1cc4><a href="" data-v-f18f1cc4>概述页</a><a href="" data-v-f18f1cc4><span data-v-f18f1cc4>|</span>参数页</a><a href="" data-v-f18f1cc4><span data-v-f18f1cc4>|</span>F码通道</a><a href="" data-v-f18f1cc4><span data-v-f18f1cc4>|</span>咨询客服</a><a href="" data-v-f18f1cc4><span data-v-f18f1cc4>|</span>用户评价</a></div>',1),Q=b({__name:"ProductTitle",props:["name","recommend"],setup(s){return(t,r)=>(o(),l("div",R,[a("div",U,[a("div",A,[a("h2",null,e(s.name),1),a("div",H,[a("div",J,[K,g(e(s.recommend),1)]),O])])])]))}}),W=E(Q,[["__scopeId","data-v-f18f1cc4"]]),v=s=>(S("data-v-938f39d9"),s=s(),B(),s),X={class:"mi-detail"},Y={class:"product-box container"},Z={class:"img-left"},aa=["src"],sa={class:"product-con"},ta={class:"desc"},ea=v(()=>a("span",{style:{color:"#75bb9c"}},"「赠小米移动流量卡；购机抽奖赢好礼；信用卡分期支付享优惠」",-1)),ca=v(()=>a("p",{class:"company-info"},"小米自营",-1)),oa={class:"price-info"},da=k('<div class="line" data-v-938f39d9></div><div class="address-box" data-v-938f39d9><div class="product-address" data-v-938f39d9><div data-v-938f39d9><div class="address-info" data-v-938f39d9><span data-v-938f39d9>北京</span><span data-v-938f39d9>北京市</span><span data-v-938f39d9>海定区</span><span data-v-938f39d9>清河街道</span></div></div><p class="desc" data-v-938f39d9>有现货</p></div></div>',2),na={class:"buy-options"},ia={class:"title"},la=["onClick"],ra=["title"],fa={class:"selected-list"},ua={class:"total-price"},_a=v(()=>a("div",{class:"favorite-btn"},[a("a",{href:"",class:"btn-gray btn-like"},"喜欢")],-1)),va=v(()=>a("div",{class:"product-detail"},[a("div",{class:"title container"},"价格说明"),a("div",{class:"img-box container"},[a("img",{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/43e2954feb6d1b108438481f1d5b0bd3.png",alt:"",class:"container"})])],-1)),pa=b({__name:"ProductBox",props:["detailData"],setup(s){const t=s,r=N(),d=$(()=>{var f;const n=(f=t.detailData.optionsInfo[0].info)==null?void 0:f.find(i=>i.isDefault);return n&&n.price||0}),D=$(()=>{var i,u;const{value:n}=(i=t.detailData.optionsInfo[0].info)==null?void 0:i.find(c=>c.isDefault),{value:f}=(u=t.detailData.optionsInfo[1].info)==null?void 0:u.find(c=>c.isDefault);return t.detailData.goodsname+" "+n+" "+f||""}),w=(n,f)=>{n.forEach(i=>{i.isDefault=!1}),n[f].isDefault=!0},P=()=>{r.addCartItem({id:t.detailData.id,title:t.detailData.goodsname,price:d.value,picUrl:t.detailData.imgs[0]}),V({message:"加入购物车成功",type:"success"})};return(n,f)=>{const i=j,u=F;return o(),l("div",X,[a("div",Y,[a("div",Z,[x(u,{height:"560px"},{default:y(()=>[(o(!0),l(m,null,h(s.detailData.imgs,(c,p)=>(o(),T(i,{key:p},{default:y(()=>[a("img",{src:c,style:{width:"560px",height:"560px"}},null,8,aa)]),_:2},1024))),128))]),_:1})]),a("div",sa,[a("h2",null,e(s.detailData.goodsname),1),a("p",ta,[ea,g(e(s.detailData.desc),1)]),ca,a("p",oa,e(d.value)+" 元",1),da,a("div",na,[(o(!0),l(m,null,h(s.detailData.optionsInfo,(c,p)=>(o(),l("div",{class:"buy-box-child",key:p},[a("div",ia,e(c.title),1),a("ul",null,[(o(!0),l(m,null,h(c.info,(_,I)=>(o(),l("li",{key:I,class:C({active:_.isDefault}),onClick:ga=>w(c.info,I)},[a("a",{title:_.value,class:C({active:_.isDefault})},e(_.value),11,ra)],10,la))),128))])]))),128))]),a("div",fa,[a("ul",null,[a("li",null,[g(e(D.value)+" ",1),a("span",null,e(d.value)+" 元",1)])]),a("div",ua,"总计: "+e(d.value)+" 元",1)]),a("div",{class:"btn-box"},[a("div",{class:"sale-btn"},[a("div",{class:"btn btn-primary",onClick:P},"加入购物车")]),_a])])]),va])}}}),ma=E(pa,[["__scopeId","data-v-938f39d9"]]),ha={class:"buy"},Da=b({__name:"GoodsDetails",setup(s){const t=G(),r=M({optionsInfo:[{title:"xx",info:[{value:"xx",isDefault:!1,price:0}]}],imgs:[],recommend:{goodsname:"",id:"xxx"},goodsname:"",id:"xx",desc:"xxx"});return q(()=>{z.get("/goodsdetail",{params:{id:t.params.id}}).then(({data:d})=>{console.log("res: ",d),r.value=d.res})}),(d,D)=>(o(),l("div",ha,[x(W,{name:r.value.goodsname,recommend:r.value.recommend.goodsname},null,8,["name","recommend"]),x(ma,{detailData:r.value},null,8,["detailData"])]))}});export{Da as default};
